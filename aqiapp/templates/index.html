<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>AQI Monitoring System</title>

    <!-- ***** Bootstrap core CSS *****-->
    <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">


    <!-- ***** Additional CSS Files *****-->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/fontawesome.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/templatemo-digimedia-v3.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/animated.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/owl.css') }}">

    <!--bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <!--ChatJS-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  </head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <!-- ***** Logo VGU ***** -->
            <a href="index.html" class="logo">
              <img src="static/assets/images/vgu_logo.png" alt="">
            </a>
    
            <!-- ***** Menu Start ***** -->
            <ul class="nav">
              <li class="scroll-to-section"><a href="#top"><h4><bold>Home</bold></h4></a></li>
              <li class="scroll-to-section"><a href="#blog"><h4><bold>Systems</bold></h4></a></li>
              <li class="scroll-to-section"><a href="{{url_for('.home', _anchor='services')}}"><h4><bold>Charts</bold></h4></a></li>
              <li class="scroll-to-section"><a href="#portfolio"><h4><bold>About</bold></h4></a></li>
              
             
            </ul>        
            <a class='menu-trigger'>
                <span>Menu</span>
            </a>
            <!-- ***** Menu End ***** -->
          </nav>
        </div>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <!-- ***** Landing Page *****-->
  <div class="main-banner wow fadeIn" id="top" data-wow-duration="1s" data-wow-delay="0.5s">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="row">
            <div class="col-lg-6 align-self-center">
              <div class="left-content show-up header-text wow fadeInLeft" data-wow-duration="1s" data-wow-delay="1s">
                <div class="row">
                  <div class="col-lg-12">
                    <h6>AQI Monitoring System</h6>
                    <h2><em>Real-time</em><br>Air Quality Index</h2>
                    <h5><br>This IoT System website provides a visual appeal of air quality index PM2.5, temperature and relative humidity<br><br>
                      The data is collected real-time from the Firebase system</h5>
                  </div>
                  <div class="col-lg-12">
                    <div class="border-first-button scroll-to-section">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-5">
              <div class="left-image wow fadeInRight" data-wow-duration="1s" data-wow-delay="0.5s">
                <img src="static/assets/images/Data extraction-bro.png" alt="">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- ***** Data Tables *****-->
  <div id="blog" class="blog">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 offset-lg-4  wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.3s">
          <div class="section-heading">
            <h6>Real-time</h6>
            <h4>AQI<em> Monitoring Systems</em></h4>
            <div class="line-dec"></div>
          </div>
        </div>
        {% for item_data in data%}
        <div class="col-lg-6 show-up wow fadeInUp" data-wow-duration="1s" data-wow-delay="0.3s">
          <div class="blog-post">
            <div class="down-content">
              <span class="category">15 AQI US</span>
              <a href="#"><h4>{{item_data[0]}}</h4></a>
              <p><b>PM2.5 (μg/mᶟ) : </b>{{item_data[1]}}</p>
              <p><b>T (°C) : </b>{{item_data[2]}}</p>
              <p><b>H (%) : </b>{{item_data[3]}}</p>
              <p>{{item_data[4]}}</p>
              <form method = "get" action = "/">
                <button type="submit" onclick="window.location.href'{{ url_for('.home', anchor='services') }}'" class="border-first-button" name="choose_node"
                value="{{item_data[0]}}">Get data</button>
              </form>
            </div>
          </div>
        </div>
        {%endfor%}  
      </div>
    </div>
  </div>  


  <!-- ***** Line Chart *****-->
  <div id="services" class="services section">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading  wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.5s">
            <h6>Our Products</h6>
            <h4> Online<em> Charts </em></h4>
            <div class="line-dec"></div>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="naccs">
            <div class="grid">
              <div class="row">
                <div class="col-lg-12">
                  <div class="menu">
                    <div class="first-thumb active">
                      <div class="thumb">
                        <span class="icon"><img src="static/assets/images/air-pollution.png" alt=""></span>    
                        PM2.5
                      </div>
                    </div>
                    <div>
                      <div class="thumb">                 
                        <span class="icon"><img src="static/assets/images/temperature.png" alt=""></span>
                        Temperature
                      </div>
                    </div>
                    <div>
                      <div class="thumb">                 
                        <span class="icon"><img src="static/assets/images/humidity.png" alt=""></span>
                        Humidity 
                      </div>
                    </div>                  
                  </div>
                </div>               
                <div class="col-lg-12">
                  <ul class="nacc">
                    <li class="active">
                          <p class="fs-5 fw-bold text-center">PM2.5 Online Chart [{{name}}]</p>
                          <canvas id="myChart1"></canvas>
                          <p>{{date_time}}</p>
                    </li>
                    <li>
                        <p class="fs-5 fw-bold text-center">Temperature Online Chart [{{name}}]</p>
                        <canvas id="myChart2"></canvas>
                        <p>{{date_time}}</p>
                    </li>
                    <li>
                        <p class="fs-5 fw-bold text-center">Relative Humidity Online Chart [{{name}}]</p>
                        <canvas id="myChart3"></canvas>
                        <p>{{date_time}}</p>                                      
                    </li>
                  </ul>
                </div>          
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- ***** Team Member Tag *****-->
  <div id="portfolio" class="our-portfolio section">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading  wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.3s">
            <h6></h6>
            <h4>Group 3 <em>Members</em></h4>
            <div class="line-dec"></div>
          </div>
        </div>
      </div>
      <div class="container-fluid wow fadeIn" data-wow-duration="1s" data-wow-delay="0.7s">
        <div class="row">
          <div class="col-lg-12">
            <div class="loop owl-carousel">
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/lcn1.jpg" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Công Nguyên</h4>
                    <span>Team Leader</span>
                  </div>
                </div>
                </a>  
              </div>
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/minhanh1.jpg" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Minh Anh</h4>
                    <span>General Project Manager</span>
                  </div>
                </div>
                </a>  
              </div>
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/huong1.jpg" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Thiên Hương</h4>
                    <span>Front-end Developer</span>
                  </div>
                </div>
                </a>  
              </div>
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/quynh.jpg" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Kim Quỳnh</h4>
                    <span>General Project Assistant</span>
                  </div>
                </div>
                </a>  
              </div>
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/kha2.jpg" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Trịnh Kha</h4>
                    <span>3D Project Manager</span>
                  </div>
                </div>
                </a>  
              </div>
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/khoa1.jpg" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Anh Khoa</h4>
                    <span>Project Sponsor</span>
                  </div>
                </div>
                </a>  
              </div>
              <div class="item">
                <a href="#">
                  <div class="portfolio-item">
                  <div class="thumb">
                    <img src="static/assets/images/triet.png" alt="">
                  </div>
                  <div class="down-content">
                    <h4>Minh Triết</h4>
                    <span>Project Analyst & Spokesperson</span>
                  </div>
                </div>
                </a>  
              </div>           
            </div>
          </div>
        </div>
      </div>
  </div>
  <br>
  <br>
  <br>

  <!-- ***** Template Reference *****-->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <p>Copyright © 2022 DigiMedia Co., Ltd. All Rights Reserved. 
          <br>Design: <a href="https://templatemo.com" target="_parent" title="free css templates">TemplateMo</a></p>
        </div>
      </div>
    </div>
  </footer>


  <!-- ***** Scripts *****-->
  <script src="static/vendor/jquery/jquery.min.js"></script>
  <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/assets/js/owl-carousel.js"></script>
  <script src="static/assets/js/animation.js"></script>
  <script src="static/assets/js/imagesloaded.js"></script>
  <script src="static/assets/js/custom.js"></script>

<!--Chart1-->
<script>
  let data_pm25 = []
  {%for pm25_item in pm25%}
     data_pm25.push('{{pm25_item}}')
  {%endfor%}
  const labels_1 = [
    1,2,3,4,5,6,7,8,9,10,
    11,12,13,14,15,16,17,18,19,20,
    21,22,23,24,25,26,27,28,29,30,
    31,32,33,34,35,36,37,38,39,40,
    41,42,43,44,45,46,47,48,49,50,
    51,52,53,54,55,56,57,58,59,60,
  ];

  const data_1 = {
    labels: labels_1,
    datasets: [{
      label: 'PM2.5 (μg/mᶟ)',
      backgroundColor: 'rgba(197, 215, 255, 0.2)',
      borderColor: 'rgb(127, 95, 228, 1)',
      data: data_pm25,
      tension: 0.4,
      fill: true
    }]
  };

  const config_1 = {
    type: 'line',
    data: data_1,
    options: {
      elements: {
        point: {
          radius: 3,
          backgroundColor: 'rgb(127, 95, 228)',
          borderWidth: 2,
          hoverBorderWidth: 2
        }
      }
    }
  };
</script>

<script>
    const myChart1 = new Chart(
    document.getElementById('myChart1'),
    config_1
    );
</script>

<!--Chart2-->
<script>
  let data_temp = []
  {%for temp_item in temp%}
     data_temp.push('{{temp_item}}')
  {%endfor%}
  const labels_2 = [
    1,2,3,4,5,6,7,8,9,10,
    11,12,13,14,15,16,17,18,19,20,
    21,22,23,24,25,26,27,28,29,30,
    31,32,33,34,35,36,37,38,39,40,
    41,42,43,44,45,46,47,48,49,50,
    51,52,53,54,55,56,57,58,59,60,
  ];

  const data_2 = {
    labels: labels_2,
    datasets: [{
      label: 'Temperature (°C)',
      backgroundColor: 'rgba(197, 215, 255, 0.2)',
      borderColor: 'rgb(127, 95, 228, 1)',
      data: data_temp,
      tension: 0.4,
      fill: true
    }]
  };

  const config_2 = {
    type: 'line',
    data: data_2,
    options: {
      elements: {
        point: {
          radius: 3,
          backgroundColor: 'rgb(127, 95, 228)',
          borderWidth: 2,
          hoverBorderWidth: 2
        }
      }
    }
  };
</script>

<script>
    const myChart2 = new Chart(
    document.getElementById('myChart2'),
    config_2
    );
</script>

<!--Chart3-->
<script>
  let data_hum = []
  {%for hum_item in hum%}
     data_hum.push('{{hum_item}}')
  {%endfor%}
  const labels_3 = [
    1,2,3,4,5,6,7,8,9,10,
    11,12,13,14,15,16,17,18,19,20,
    21,22,23,24,25,26,27,28,29,30,
    31,32,33,34,35,36,37,38,39,40,
    41,42,43,44,45,46,47,48,49,50,
    51,52,53,54,55,56,57,58,59,60,
  ];

  const data_3 = {
    labels: labels_3,
    datasets: [{
      label: 'Relative Humidity (%)',
      backgroundColor: 'rgba(197, 215, 255, 0.2)',
      borderColor: 'rgb(127, 95, 228, 1)',
      data: data_hum,
      tension: 0.4,
      fill: true
    }]
  };

  const config_3 = {
    type: 'line',
    data: data_3,
    options: {
      elements: {
        point: {
          radius: 3,
          backgroundColor: 'rgb(127, 95, 228)',
          borderWidth: 2,
          hoverBorderWidth: 2
        }
      }
    }
  };
</script>

<script>
    const myChart3 = new Chart(
    document.getElementById('myChart3'),
    config_3
    );
</script>

</body>
</html>